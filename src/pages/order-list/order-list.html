<!--
  Generated template for the OrderListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <!--<ion-navbar>
    <ion-title>order-list</ion-title>
  </ion-navbar>-->
  <ion-row>
    <ion-col col-12>
      <ion-avatar class="logo tabs-logo" text-center>
        <img src="assets/images/logo-small.png" alt="Logo"/>
      </ion-avatar>
    </ion-col>
  </ion-row>

</ion-header>


<ion-content padding>

  <ion-segment [(ngModel)]="selectedSegment" color="primary" (ionChange)="onSegmentChanged($event)">
    <ion-segment-button value="pending">
      {{'t_pending' | translate}}
    </ion-segment-button>
    <ion-segment-button value="onprocess">
      {{'t_on_process' | translate}}
       
    </ion-segment-button>
    <ion-segment-button value="finished">
      {{'t_finished' | translate}}
       
    </ion-segment-button>
  </ion-segment>
  <br />
  <div [ngSwitch]="selectedSegment">

  <div *ngSwitchCase="'pending'">
      <div  *ngFor="let order of order_list;">
       <div class="block" *ngIf="order.status=='waiting'" (click)="finishedOrderDetails(order.order_id,order.status)">
        <ion-row>
          <ion-col col-3>
            <ion-avatar>
              <img src="assets/images/Calendar-icon.png" width="50">
            </ion-avatar>
          </ion-col>
          <ion-col col-9>
           
            <p class="top-20">
              {{order.order_time}}
            </p>
          </ion-col>
<!--
          <ion-col col-4 >
                <button ion-button small style="margin-right:30px;" (click)="showPrompt(order.order_id)">Cancel</button>  
          </ion-col>
-->
          
        </ion-row>
           <ion-row>
               <ion-col><hr /></ion-col>
           </ion-row>
        <ion-row>
          <ion-col col-3>
            <ion-avatar>
              <img src="assets/images/icon-location.png" width="50">
            </ion-avatar>
          </ion-col>
          <ion-col col-9>
            <p>{{order.dest}}</p>
          </ion-col>
        </ion-row>

      </div>
    </div>
    

  </div>
    <div *ngSwitchCase="'onprocess'">
      <div  *ngFor="let order of order_list;">
       <div class="block" *ngIf="order.status=='on_process'" (click)="onprocessOrderDetails(order.order_id,order.status)">
        <ion-row>
          <ion-col col-3>
            <ion-avatar>
              <img src="assets/images/Calendar-icon.png" width="50">
            </ion-avatar>
          </ion-col>
          <ion-col col-9>           
            <p class="top-20">
              {{order.order_time}}
            </p>
          </ion-col>
          <ion-col><hr /></ion-col>
        </ion-row>

        <ion-row>
          <ion-col col-3>
            <ion-avatar>
              <img src="assets/images/icon-location.png" width="50">
            </ion-avatar>
          </ion-col>
          <ion-col col-9>
            <p>{{order.dest}}</p>
          </ion-col>
        </ion-row>

      </div>
    </div>
    

  </div>
  <div *ngSwitchCase="'finished'" (ionSelect)="selectedSegment = finished">
    <div  *ngFor="let order of order_list;">

      <div class="white-block margin-10" *ngIf="order.status=='finish'" (click)="finishedOrderDetails(order.order_id)">
        <ion-row>
          <ion-col col-3>
            <ion-avatar>
              <img src="assets/images/Calendar-icon.png" width="50">
            </ion-avatar>
          </ion-col>
          <ion-col col-7>
            <p class="top-20">{{order.order_time}}</p>
          </ion-col>
          <ion-col col-2>
            <ion-avatar class="check">
              <img src="assets/images/check.png" width="50">
            </ion-avatar>
          </ion-col>
          <ion-col><hr /></ion-col>
        </ion-row>

        <ion-row>
          <ion-col col-3>
            <ion-avatar>
              <img src="assets/images/icon-location.png" width="50">
            </ion-avatar>
          </ion-col>
          <ion-col col-9>
            <p>{{order.dest}}</p>
          </ion-col>
        </ion-row>
      </div>
    </div>


  </div>
</div>

</ion-content>
